{"ast":null,"code":"var _jsxFileName = \"/home/am-pc-05-other/React/latest Live exam Portal/Live-Exam-Portal/src/components/EditQuestion.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Link, useParams, useNavigate } from \"react-router-dom\";\nimport ReactQuill from \"react-quill\";\nimport \"react-quill/dist/quill.snow.css\";\nimport Main from \"./Main\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction EditQuestion() {\n  _s();\n\n  const {\n    Qid\n  } = useParams();\n  const navigate = useNavigate();\n  const [richEditorQ, setRichEditorQ] = useState(\"Enable\");\n  const [queAPI, setQueAPI] = useState([]);\n  const [subAPI, setSubAPI] = useState([]);\n  const [topicAPI, setTopicAPI] = useState([]);\n  const [isloading, setIsLoading] = useState(false);\n  const [richTextEditFlag, setRichTextEditFlag] = useState([]);\n  const tokenKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MWRkMjgwYWU2ZDdkNzdjOGU0ZjY4ZjYiLCJfYWN0aXZlT3JnIjoiNjE5Y2U0YThlNTg2ODUxNDYxMGM4ZGE3IiwiaWF0IjoxNjQ0ODk5NDUwLCJleHAiOjE2NDQ5NDI2NTB9.hIb1vv07n1FOH_V1aQVy8rE3aoq6Xj6qscx52HYpx08\";\n  const [optionArr, setOptionArr] = useState([]);\n  const [validate, setValidate] = useState({});\n  const [validateOpt, setValidateOpt] = useState({});\n  const [validateSameQ, setValidateSameQ] = useState({});\n  const [formErrorsOpt, setFormErrorsOpt] = useState([]);\n  const [isSubmit, setIsSubmit] = useState(false);\n  const [formData, setFormData] = useState({\n    subject: \"\",\n    topic: \"\",\n    type: \"MULTIPLE CHOICE\",\n    questionText: \"\",\n    DiffLevel: \"easy\",\n    rightMarks: 1,\n    wrongMarks: 0,\n    options: null\n  });\n  useEffect(() => {\n    axios.get(`http://admin.liveexamcenter.in/api/questions/${Qid}`, {\n      headers: {\n        authorization: tokenKey\n      }\n    }).then(response => {\n      console.log(response.data); //setQidData({...response.data});\n\n      setFormData({ ...formData,\n        subject: response.data.subject._id,\n        topic: response.data.topic._id,\n        type: response.data.type,\n        questionText: response.data.questionText,\n        DiffLevel: response.data.diffLevel,\n        rightMarks: response.data.rightMarks,\n        wrongMarks: response.data.wrongMarks\n      });\n      setOptionArr([...response.data.options]);\n      setIsLoading(true);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, [Qid]);\n  isloading && console.log(optionArr);\n  useEffect(() => {}, [optionArr]); //subject api call\n\n  useEffect(() => {\n    axios.get(`http://admin.liveexamcenter.in/api/subjects?page=1&limit=5&term=`, {\n      headers: {\n        authorization: tokenKey\n      }\n    }).then(res => {\n      setSubAPI(res.data.result);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []); //Read API for Topics\n\n  useEffect(() => {\n    axios.get(`http://admin.liveexamcenter.in/api/topics?page=1&limit=5&term=`, {\n      headers: {\n        authorization: tokenKey\n      }\n    }).then(res => {\n      setTopicAPI(res.data.result);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []); // useEffect(()=>{\n  //     //to deselect the option when question type changes\n  //      setOptionArr(tempOptionArr);\n  // },[formData.type])\n\n  useEffect(() => {\n    //to add the option array to formdata\n    setFormData({ ...formData,\n      options: optionArr\n    });\n  }, [optionArr]);\n\n  const onChangeHandler = e => {\n    const ename = e.target.name;\n    const regex = /^[0-9\\b]+$/;\n\n    if ((e.target.name == \"rightMarks\" || e.target.name == \"wrongMarks\") && e.target.value != \"\") {\n      setFormData({ ...formData,\n        [ename]: regex.test(e.target.value) ? parseInt(e.target.value) : \"\"\n      });\n    } else setFormData({ ...formData,\n      [ename]: e.target.value\n    });\n\n    if (e.target.value == \"\") {\n      setValidate({ ...validate,\n        [ename]: `${ename} is Required`\n      });\n    } else {\n      setValidate({ ...validate,\n        [ename]: \"\"\n      });\n    }\n  };\n\n  function removeOption(index) {\n    //\n    const tempArr = [...optionArr];\n    tempArr.splice(index, 1);\n    setOptionArr(tempArr);\n  } //console.log(optionArr)\n\n\n  const changeOptions = (i, input) => {\n    setOptionArr(prev => prev.map((option, ind) => i == ind ? { ...option,\n      option: input\n    } : option));\n    setFormData({ ...formData,\n      options: optionArr\n    });\n\n    if (input == \"\") {\n      setValidateOpt({ ...validateOpt,\n        [i]: {\n          option: \"option is required\"\n        }\n      });\n    } else {\n      setValidateOpt({ ...validateOpt,\n        [i]: \"\"\n      });\n    }\n  };\n\n  isloading && console.log(formData);\n\n  const SubmitForm = e => {\n    e.preventDefault(); // let navigate = Navigate();\n\n    axios.put(`http://admin.liveexamcenter.in/api/questions/${Qid}`, formData, {\n      headers: {\n        authorization: tokenKey\n      }\n    }).then(res => {\n      console.log(res.data);\n      navigate(\"/questions\"); // setTopicAPI(res.data.result)\n    }).catch(err => {\n      console.log(err);\n    });\n    console.log(optionArr);\n    console.log(formData);\n  };\n\n  const checkBoxOption = (i, e) => {\n    //To check option is checked or not and accordingly set value of iscorrect\n    e.checked == true ? setOptionArr(prev => prev.map((isCorrect, ind) => i == ind ? { ...isCorrect,\n      isCorrect: true\n    } : isCorrect)) : setOptionArr(prev => prev.map((isCorrect, ind) => i == ind ? { ...isCorrect,\n      isCorrect: false\n    } : isCorrect));\n  };\n\n  const radioBoxOption = (i, e) => {\n    //To check option is checked or not and accordingly set value of iscorrect\n    e.checked == true ? setOptionArr(prev => prev.map((isCorrect, ind) => i == ind ? { ...isCorrect,\n      isCorrect: true\n    } : { ...isCorrect,\n      isCorrect: false\n    })) : setOptionArr(prev => prev.map((isCorrect, ind) => i == ind ? { ...isCorrect,\n      isCorrect: false\n    } : isCorrect));\n  };\n\n  const newOption = () => {\n    const temp = [...optionArr, {\n      isCorrect: false,\n      option: \"\",\n      richTextEditor: false\n    }];\n    setOptionArr(temp);\n  };\n\n  const changeRichTextQ = () => {\n    richEditorQ == \"Enable\" ? setRichEditorQ(\"Disable\") : setRichEditorQ(\"Enable\");\n  };\n\n  const changeRichText = i => {\n    // setOptIndex(val)\n    // richEditor == \"Enable\" ? setRichEditor(\"Disable\") : setRichEditor(\"Enable\");\n    setOptionArr(prev => prev.map((opt, j) => i === j ? { ...opt,\n      richTextEditor: opt.richTextEditor == true ? false : true\n    } : opt));\n  };\n\n  const onChangeHandlerEditor = e => {\n    setFormData({ ...formData,\n      questionText: e\n    });\n  };\n\n  const onChangeHandlerEditorOp = (e, i) => {\n    console.log(e);\n    setOptionArr(prev => prev.map((opt, j) => i === j ? { ...opt,\n      option: e\n    } : opt));\n  };\n\n  useEffect(() => {\n    if (isloading) {\n      let temp = optionArr.map(e => {\n        e.richTextEditor = false;\n        return e;\n      });\n      setOptionArr(temp);\n    } else return;\n  }, [isloading]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Main, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this), isloading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add-div\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"add-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Edit question\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n        children: JSON.stringify(formData, undefined, 2)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: SubmitForm,\n        id: \"myForm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"add-main\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"add-main-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                flex: \"1\"\n              },\n              className: \"add-main-row1-col1\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Select Subject\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"add-select\",\n                name: \"subject\",\n                value: formData.subject,\n                onChange: onChangeHandler,\n                required: true,\n                children: subAPI && subAPI.map((subject, i) => {\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: subject._id,\n                    children: subject.name\n                  }, i, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 27\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: \"red\"\n                },\n                children: validate.subject\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                flex: \"1\"\n              },\n              className: \"add-main-row1-col1\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Select Topic\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"add-select\",\n                name: \"topic\",\n                value: formData.topic,\n                onChange: onChangeHandler,\n                children: topicAPI && topicAPI.map((topic, i) => {\n                  return topic.subject && topic.subject._id === formData.subject ? /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: topic._id,\n                    children: topic.name\n                  }, i, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 295,\n                    columnNumber: 27\n                  }, this) : null;\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: \"red\"\n                },\n                children: validate.topic\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 17\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"add-main-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                flex: \"1\"\n              },\n              className: \"add-main-row2-col1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  flex: \"1\"\n                },\n                className: \"row2-div\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Question Type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"add-select\",\n                  name: \"Qtype\",\n                  value: formData.type,\n                  onChange: onChangeHandler,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"MULTIPLE CHOICE\",\n                    children: \"Multiple Choice\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 319,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"MULTIPLE RESPONSE\",\n                    children: \"Multiple Response\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 320,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"FILL IN BLANKS\",\n                    children: \"Fill in the blanks\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 323,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  flex: \"1\"\n                },\n                className: \"add-main-row2-half row2-div\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Difficulty Level\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"add-select\",\n                  name: \"DiffLevel\",\n                  value: formData.DiffLevel,\n                  onChange: onChangeHandler,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"easy\",\n                    children: \"Easy\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 341,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"medium\",\n                    children: \"Medium\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"hard\",\n                    children: \"Hard\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 343,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                flex: \"1\"\n              },\n              className: \"add-main-row2-col1 \",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  flex: \"1\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Right Marks\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"rightMarks\",\n                  className: \"add-input\",\n                  value: formData.rightMarks,\n                  onChange: onChangeHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: \"red\"\n                  },\n                  children: validate.rightMarks\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  flex: \"1\"\n                },\n                className: \"add-main-row2-half\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Wrong Marks\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 361,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"wrongMarks\",\n                  className: \"add-input\",\n                  value: formData.wrongMarks,\n                  onChange: onChangeHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: \"red\"\n                  },\n                  children: validate.wrongMarks\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"questionText-div\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Question\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 17\n            }, this), richEditorQ == \"Enable\" ? /*#__PURE__*/_jsxDEV(\"textarea\", {\n              rows: 5,\n              style: {\n                width: \"100%\",\n                borderRadius: \"4px\",\n                border: \"1px solid lightgrey\"\n              },\n              name: \"questionText\",\n              value: formData.questionText,\n              onChange: onChangeHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(ReactQuill, {\n              onChange: onChangeHandlerEditor,\n              value: formData.questionText\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"option-btm-btn\",\n              style: {\n                marginTop: \"3px\",\n                marginLeft: \"10px\",\n                backgroundColor: \"white\",\n                border: \"none\"\n              },\n              onClick: () => changeRichTextQ(),\n              children: [\" \", richEditorQ, \" Rich Text Editor\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: \"red\"\n              },\n              children: validate.questionText\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Options\", optionArr.map((i, val) => {\n              return formData.type == \"MULTIPLE RESPONSE\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"options-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"options-col left\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"checkbox\",\n                      name: \"isCorrect\",\n                      id: `radio-1`,\n                      name: \"isCorrect\",\n                      checked: i.isCorrect,\n                      onChange: e => checkBoxOption(val, e.target)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 417,\n                      columnNumber: 27\n                    }, this), \" \", \"Option \", val + 1]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 416,\n                    columnNumber: 25\n                  }, this), i.richTextEditor == false ? /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    rows: 4,\n                    id: `textarea-1`,\n                    className: \"options-col right\",\n                    value: i.option,\n                    style: {\n                      border: \"none\",\n                      paddingLeft: \"10px\"\n                    },\n                    name: `option`,\n                    onChange: e => changeOptions(val, e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 428,\n                    columnNumber: 27\n                  }, this) : /*#__PURE__*/_jsxDEV(ReactQuill, {\n                    onChange: e => onChangeHandlerEditorOp(e, val),\n                    value: i.option\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 438,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"option-btm-btn\",\n                  style: {\n                    marginTop: \"3px\",\n                    marginRight: \"10px\",\n                    backgroundColor: \"white\",\n                    border: \"none\"\n                  },\n                  children: [\" \", \"Remove Option\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 23\n                }, this), \"|\", /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"option-btm-btn\",\n                  style: {\n                    marginTop: \"3px\",\n                    marginLeft: \"10px\",\n                    backgroundColor: \"white\",\n                    border: \"none\"\n                  },\n                  onClick: () => changeRichText(val),\n                  children: [i.richTextEditor === false ? \"Enable\" : \"Disable\", \" Rich Text Editor\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 459,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: isSubmit ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: \"red\"\n                    },\n                    children: formErrorsOpt[val].option\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 475,\n                    columnNumber: 27\n                  }, this) : Object.keys(validateOpt).map((obj, i) => {\n                    return i === val ? /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        color: \"red\"\n                      },\n                      children: validateOpt[obj].option\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 481,\n                      columnNumber: 31\n                    }, this) : null;\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 23\n                }, this)]\n              }, val, true, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"options-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"options-col left\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"radio\",\n                      name: \"isCorrect\",\n                      id: `radio-1`,\n                      name: \"isCorrect\",\n                      checked: i.isCorrect,\n                      onChange: e => radioBoxOption(val, e.target)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 493,\n                      columnNumber: 27\n                    }, this), \" \", \"Option \", val + 1]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 492,\n                    columnNumber: 25\n                  }, this), i.richTextEditor == false ? /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    rows: 4,\n                    id: `textarea-1`,\n                    className: \"options-col right\",\n                    value: i.option,\n                    style: {\n                      border: \"none\",\n                      paddingLeft: \"10px\"\n                    },\n                    name: `option`,\n                    onChange: e => changeOptions(val, e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 505,\n                    columnNumber: 27\n                  }, this) : /*#__PURE__*/_jsxDEV(ReactQuill, {\n                    onChange: e => onChangeHandlerEditorOp(e, val),\n                    value: i.option\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 515,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 491,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"option-btm-btn\",\n                  style: {\n                    marginTop: \"3px\",\n                    marginRight: \"10px\",\n                    backgroundColor: \"white\",\n                    border: \"none\"\n                  },\n                  onClick: () => removeOption(val),\n                  children: [\" \", \"Remove Option\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 521,\n                  columnNumber: 23\n                }, this), \"|\", /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"option-btm-btn\",\n                  style: {\n                    marginTop: \"3px\",\n                    marginLeft: \"10px\",\n                    backgroundColor: \"white\",\n                    border: \"none\"\n                  },\n                  onClick: () => changeRichText(val),\n                  children: [\" \", i.richTextEditor === false ? \"Enable\" : \"Disable\", \" Rich Text Editor\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 536,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: isSubmit ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: \"red\"\n                    },\n                    children: formErrorsOpt[val].option\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 553,\n                    columnNumber: 27\n                  }, this) : Object.keys(validateOpt).map((obj, i) => {\n                    return i === val ? /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        color: \"red\"\n                      },\n                      children: validateOpt[obj].option\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 559,\n                      columnNumber: 31\n                    }, this) : null;\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 551,\n                  columnNumber: 23\n                }, this)]\n              }, val, true, {\n                fileName: _jsxFileName,\n                lineNumber: 490,\n                columnNumber: 21\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: newOption,\n            children: \"+Add Option\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 570,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"add-footer\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            style: {\n              padding: \"10px 15px 10px 15px\",\n              fontSize: \"20px\"\n            },\n            type: \"submit\",\n            children: \"Update question\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 575,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/questions\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-light\",\n              style: {\n                marginLeft: \"30px\",\n                fontSize: \"20px\",\n                border: \"none\",\n                outline: \"none\",\n                padding: \"6px 10px 6px 10px\"\n              },\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 583,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 582,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 245,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EditQuestion, \"45LghZ3E6haOdsGdaXqjFJH5kBc=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = EditQuestion;\nexport default EditQuestion;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditQuestion\");","map":{"version":3,"sources":["/home/am-pc-05-other/React/latest Live exam Portal/Live-Exam-Portal/src/components/EditQuestion.js"],"names":["React","useState","useEffect","axios","Link","useParams","useNavigate","ReactQuill","Main","EditQuestion","Qid","navigate","richEditorQ","setRichEditorQ","queAPI","setQueAPI","subAPI","setSubAPI","topicAPI","setTopicAPI","isloading","setIsLoading","richTextEditFlag","setRichTextEditFlag","tokenKey","optionArr","setOptionArr","validate","setValidate","validateOpt","setValidateOpt","validateSameQ","setValidateSameQ","formErrorsOpt","setFormErrorsOpt","isSubmit","setIsSubmit","formData","setFormData","subject","topic","type","questionText","DiffLevel","rightMarks","wrongMarks","options","get","headers","authorization","then","response","console","log","data","_id","diffLevel","catch","error","res","result","err","onChangeHandler","e","ename","target","name","regex","value","test","parseInt","removeOption","index","tempArr","splice","changeOptions","i","input","prev","map","option","ind","SubmitForm","preventDefault","put","checkBoxOption","checked","isCorrect","radioBoxOption","newOption","temp","richTextEditor","changeRichTextQ","changeRichText","opt","j","onChangeHandlerEditor","onChangeHandlerEditorOp","JSON","stringify","undefined","flex","color","width","borderRadius","border","marginTop","marginLeft","backgroundColor","val","paddingLeft","marginRight","Object","keys","obj","padding","fontSize","outline"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Link, useParams, useNavigate } from \"react-router-dom\";\nimport ReactQuill from \"react-quill\";\nimport \"react-quill/dist/quill.snow.css\";\nimport Main from \"./Main\";\n\nfunction EditQuestion() {\n  const { Qid } = useParams();\n  const navigate = useNavigate();\n  const [richEditorQ, setRichEditorQ] = useState(\"Enable\");\n  const [queAPI, setQueAPI] = useState([]);\n  const [subAPI, setSubAPI] = useState([]);\n  const [topicAPI, setTopicAPI] = useState([]);\n  const [isloading, setIsLoading] = useState(false);\n  const [richTextEditFlag, setRichTextEditFlag] = useState([]);\n  const tokenKey =\n    \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MWRkMjgwYWU2ZDdkNzdjOGU0ZjY4ZjYiLCJfYWN0aXZlT3JnIjoiNjE5Y2U0YThlNTg2ODUxNDYxMGM4ZGE3IiwiaWF0IjoxNjQ0ODk5NDUwLCJleHAiOjE2NDQ5NDI2NTB9.hIb1vv07n1FOH_V1aQVy8rE3aoq6Xj6qscx52HYpx08\";\n  const [optionArr, setOptionArr] = useState([]);\n  const [validate, setValidate] = useState({});\n  const [validateOpt, setValidateOpt] = useState({});\n  const [validateSameQ, setValidateSameQ] = useState({});\n  const [formErrorsOpt, setFormErrorsOpt] = useState([]);\n\n  const [isSubmit, setIsSubmit] = useState(false);\n\n  const [formData, setFormData] = useState({\n    subject: \"\",\n    topic: \"\",\n    type: \"MULTIPLE CHOICE\",\n    questionText: \"\",\n    DiffLevel: \"easy\",\n    rightMarks: 1,\n    wrongMarks: 0,\n    options: null,\n  });\n  useEffect(() => {\n    axios\n      .get(`http://admin.liveexamcenter.in/api/questions/${Qid}`, {\n        headers: { authorization: tokenKey },\n      })\n      .then((response) => {\n        console.log(response.data);\n        //setQidData({...response.data});\n        setFormData({\n          ...formData,\n          subject: response.data.subject._id,\n          topic: response.data.topic._id,\n          type: response.data.type,\n          questionText: response.data.questionText,\n          DiffLevel: response.data.diffLevel,\n          rightMarks: response.data.rightMarks,\n          wrongMarks: response.data.wrongMarks,\n        });\n\n        setOptionArr([...response.data.options]);\n\n        setIsLoading(true);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, [Qid]);\n  isloading && console.log(optionArr);\n\n  useEffect(() => {}, [optionArr]);\n\n  //subject api call\n  useEffect(() => {\n    axios\n      .get(`http://admin.liveexamcenter.in/api/subjects?page=1&limit=5&term=`, {\n        headers: { authorization: tokenKey },\n      })\n      .then((res) => {\n        setSubAPI(res.data.result);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n  //Read API for Topics\n  useEffect(() => {\n    axios\n      .get(`http://admin.liveexamcenter.in/api/topics?page=1&limit=5&term=`, {\n        headers: { authorization: tokenKey },\n      })\n      .then((res) => {\n        setTopicAPI(res.data.result);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  // useEffect(()=>{\n  //     //to deselect the option when question type changes\n  //      setOptionArr(tempOptionArr);\n\n  // },[formData.type])\n\n  useEffect(() => {\n    //to add the option array to formdata\n    setFormData({ ...formData, options: optionArr });\n  }, [optionArr]);\n\n  const onChangeHandler = (e) => {\n    const ename = e.target.name;\n    const regex = /^[0-9\\b]+$/;\n    if (\n      (e.target.name == \"rightMarks\" || e.target.name == \"wrongMarks\") &&\n      e.target.value != \"\"\n    ) {\n      setFormData({\n        ...formData,\n        [ename]: regex.test(e.target.value) ? parseInt(e.target.value) : \"\",\n      });\n    } else setFormData({ ...formData, [ename]: e.target.value });\n\n    if (e.target.value == \"\") {\n      setValidate({ ...validate, [ename]: `${ename} is Required` });\n    } else {\n      setValidate({ ...validate, [ename]: \"\" });\n    }\n  };\n\n  function removeOption(index) {\n    //\n    const tempArr = [...optionArr];\n    tempArr.splice(index, 1);\n    setOptionArr(tempArr);\n  }\n  //console.log(optionArr)\n\n  const changeOptions = (i, input) => {\n    setOptionArr((prev) =>\n      prev.map((option, ind) =>\n        i == ind ? { ...option, option: input } : option\n      )\n    );\n    setFormData({ ...formData, options: optionArr });\n    if (input == \"\") {\n      setValidateOpt({ ...validateOpt, [i]: { option: \"option is required\" } });\n    } else {\n      setValidateOpt({ ...validateOpt, [i]: \"\" });\n    }\n  };\n  isloading && console.log(formData);\n  const SubmitForm = (e) => {\n    e.preventDefault();\n    // let navigate = Navigate();\n    axios\n      .put(`http://admin.liveexamcenter.in/api/questions/${Qid}`, formData, {\n        headers: { authorization: tokenKey },\n      })\n      .then((res) => {\n        console.log(res.data);\n        navigate(\"/questions\");\n        // setTopicAPI(res.data.result)\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    console.log(optionArr);\n    console.log(formData);\n  };\n\n  const checkBoxOption = (i, e) => {\n    //To check option is checked or not and accordingly set value of iscorrect\n    e.checked == true\n      ? setOptionArr((prev) =>\n          prev.map((isCorrect, ind) =>\n            i == ind ? { ...isCorrect, isCorrect: true } : isCorrect\n          )\n        )\n      : setOptionArr((prev) =>\n          prev.map((isCorrect, ind) =>\n            i == ind ? { ...isCorrect, isCorrect: false } : isCorrect\n          )\n        );\n  };\n\n  const radioBoxOption = (i, e) => {\n    //To check option is checked or not and accordingly set value of iscorrect\n    e.checked == true\n      ? setOptionArr((prev) =>\n          prev.map((isCorrect, ind) =>\n            i == ind\n              ? { ...isCorrect, isCorrect: true }\n              : { ...isCorrect, isCorrect: false }\n          )\n        )\n      : setOptionArr((prev) =>\n          prev.map((isCorrect, ind) =>\n            i == ind ? { ...isCorrect, isCorrect: false } : isCorrect\n          )\n        );\n  };\n\n  const newOption = () => {\n    const temp = [\n      ...optionArr,\n      { isCorrect: false, option: \"\", richTextEditor: false },\n    ];\n    setOptionArr(temp);\n  };\n  const changeRichTextQ = () => {\n    richEditorQ == \"Enable\"\n      ? setRichEditorQ(\"Disable\")\n      : setRichEditorQ(\"Enable\");\n  };\n  const changeRichText = (i) => {\n    // setOptIndex(val)\n    // richEditor == \"Enable\" ? setRichEditor(\"Disable\") : setRichEditor(\"Enable\");\n    setOptionArr((prev) =>\n      prev.map((opt, j) =>\n        i === j\n          ? {\n              ...opt,\n              richTextEditor: opt.richTextEditor == true ? false : true,\n            }\n          : opt\n      )\n    );\n  };\n  const onChangeHandlerEditor = (e) => {\n    setFormData({ ...formData, questionText: e });\n  };\n  const onChangeHandlerEditorOp = (e, i) => {\n    console.log(e);\n    setOptionArr((prev) =>\n      prev.map((opt, j) => (i === j ? { ...opt, option: e } : opt))\n    );\n  };\n\n  useEffect(() => {\n    if (isloading) {\n      let temp = optionArr.map((e) => {\n        e.richTextEditor = false;\n        return e;\n      });\n      setOptionArr(temp);\n    } else return;\n  }, [isloading]);\n  return (\n    <div>\n      <Main />\n      {isloading && (\n        <div className=\"add-div\">\n          <div className=\"add-header\">\n            <h3>Edit question</h3>\n          </div>\n          <pre>{JSON.stringify(formData, undefined, 2)}</pre>\n          <form onSubmit={SubmitForm} id=\"myForm\">\n            {/* middle part of add question page */}\n            <div className=\"add-main\">\n              {/* for select subject and topic */}\n              <div className=\"add-main-row\">\n                {/* for subject */}\n                <div style={{ flex: \"1\" }} className=\"add-main-row1-col1\">\n                  <label>Select Subject</label>\n                  <br />\n                  <select\n                    className=\"add-select\"\n                    name=\"subject\"\n                    value={formData.subject}\n                    onChange={onChangeHandler}\n                    required\n                  >\n                    {subAPI &&\n                      subAPI.map((subject, i) => {\n                        return (\n                          <option key={i} value={subject._id}>\n                            {subject.name}\n                          </option>\n                        );\n                      })}\n                  </select>\n                  <span style={{ color: \"red\" }}>{validate.subject}</span>\n                </div>\n                {/* for topic */}\n                <div style={{ flex: \"1\" }} className=\"add-main-row1-col1\">\n                  <label>Select Topic</label>\n                  <br />\n                  <select\n                    className=\"add-select\"\n                    name=\"topic\"\n                    value={formData.topic}\n                    onChange={onChangeHandler}\n                  >\n                    {/* <option value={QidData.topic && QidData.topic._id} >{QidData.topic && QidData.topic.name}</option>  */}\n                    {topicAPI &&\n                      topicAPI.map((topic, i) => {\n                        return topic.subject &&\n                          topic.subject._id === formData.subject ? (\n                          <option key={i} value={topic._id}>\n                            {topic.name}\n                          </option>\n                        ) : null;\n                      })}\n                  </select>\n                  <span style={{ color: \"red\" }}>{validate.topic}</span>\n                </div>\n                {}{\" \"}\n              </div>\n              {/* for question type, level and marks */}\n              <div className=\"add-main-row\">\n                {/* for question type and level of difficulty */}\n                <div style={{ flex: \"1\" }} className=\"add-main-row2-col1\">\n                  {/* for Question type */}\n                  <div style={{ flex: \"1\" }} className=\"row2-div\">\n                    <label>Question Type</label>\n                    <br />\n                    <select\n                      className=\"add-select\"\n                      name=\"Qtype\"\n                      value={formData.type}\n                      onChange={onChangeHandler}\n                    >\n                      <option value={\"MULTIPLE CHOICE\"}>Multiple Choice</option>\n                      <option value={\"MULTIPLE RESPONSE\"}>\n                        Multiple Response\n                      </option>\n                      <option value={\"FILL IN BLANKS\"}>\n                        Fill in the blanks\n                      </option>\n                    </select>\n                  </div>\n                  {/* for Difficulty Level */}\n                  <div\n                    style={{ flex: \"1\" }}\n                    className=\"add-main-row2-half row2-div\"\n                  >\n                    <label>Difficulty Level</label>\n                    <br />\n                    <select\n                      className=\"add-select\"\n                      name=\"DiffLevel\"\n                      value={formData.DiffLevel}\n                      onChange={onChangeHandler}\n                    >\n                      <option value={\"easy\"}>Easy</option>\n                      <option value={\"medium\"}>Medium</option>\n                      <option value={\"hard\"}>Hard</option>\n                    </select>\n                  </div>\n                </div>\n                <div style={{ flex: \"1\" }} className=\"add-main-row2-col1 \">\n                  <div style={{ flex: \"1\" }}>\n                    <label>Right Marks</label>\n                    <br />\n                    <input\n                      type={\"text\"}\n                      name=\"rightMarks\"\n                      className=\"add-input\"\n                      value={formData.rightMarks}\n                      onChange={onChangeHandler}\n                    />\n                    <span style={{ color: \"red\" }}>{validate.rightMarks}</span>\n                  </div>\n                  <div style={{ flex: \"1\" }} className=\"add-main-row2-half\">\n                    <label>Wrong Marks</label>\n                    <input\n                      type={\"text\"}\n                      name=\"wrongMarks\"\n                      className=\"add-input\"\n                      value={formData.wrongMarks}\n                      onChange={onChangeHandler}\n                    />\n                    <span style={{ color: \"red\" }}>{validate.wrongMarks}</span>\n                  </div>\n                </div>\n              </div>\n              <div className=\"questionText-div\">\n                <label>Question</label>\n                {richEditorQ == \"Enable\" ? (\n                  <textarea\n                    rows={5}\n                    style={{\n                      width: \"100%\",\n                      borderRadius: \"4px\",\n                      border: \"1px solid lightgrey\",\n                    }}\n                    name=\"questionText\"\n                    value={formData.questionText}\n                    onChange={onChangeHandler}\n                  />\n                ) : (\n                  <ReactQuill\n                    onChange={onChangeHandlerEditor}\n                    value={formData.questionText}\n                  />\n                )}\n                <button\n                  type=\"button\"\n                  className=\"option-btm-btn\"\n                  style={{\n                    marginTop: \"3px\",\n                    marginLeft: \"10px\",\n                    backgroundColor: \"white\",\n                    border: \"none\",\n                  }}\n                  onClick={() => changeRichTextQ()}\n                >\n                  {\" \"}\n                  {richEditorQ} Rich Text Editor\n                </button>\n                <span style={{ color: \"red\" }}>{validate.questionText}</span>\n                {/* <textarea rows={5} style={{ width: '100%', borderRadius: '4px', border: '1px solid lightgrey' }} name='questionText' defaultValue={formData.questionText} onChange={onChangeHandler} /> */}\n              </div>\n              <div>\n                Options\n                {optionArr.map((i, val) => {\n                  return formData.type == \"MULTIPLE RESPONSE\" ? (\n                    <div key={val}>\n                      <div className=\"options-row\">\n                        <div className=\"options-col left\">\n                          <input\n                            type={\"checkbox\"}\n                            name={\"isCorrect\"}\n                            id={`radio-1`}\n                            name=\"isCorrect\"\n                            checked={i.isCorrect}\n                            onChange={(e) => checkBoxOption(val, e.target)}\n                          />{\" \"}\n                          Option {val + 1}\n                        </div>\n                        {i.richTextEditor == false ? (\n                          <textarea\n                            rows={4}\n                            id={`textarea-1`}\n                            className=\"options-col right\"\n                            value={i.option}\n                            style={{ border: \"none\", paddingLeft: \"10px\" }}\n                            name={`option`}\n                            onChange={(e) => changeOptions(val, e.target.value)}\n                          />\n                        ) : (\n                          <ReactQuill\n                            onChange={(e) => onChangeHandlerEditorOp(e, val)}\n                            value={i.option}\n                          />\n                        )}\n                        {/* <textarea rows={4} id={`textarea-1`} className='options-col right' value={i.option}  style={{ border: 'none', paddingLeft: '10px' }} name={`option`} onChange={(e) => changeOptions(val, e.target.value)}/> */}\n                      </div>\n                      <button\n                        type=\"button\"\n                        className=\"option-btm-btn\"\n                        style={{\n                          marginTop: \"3px\",\n                          marginRight: \"10px\",\n                          backgroundColor: \"white\",\n                          border: \"none\",\n                        }}\n                      >\n                        {\" \"}\n                        Remove Option\n                      </button>\n                      |\n                      <button\n                        type=\"button\"\n                        className=\"option-btm-btn\"\n                        style={{\n                          marginTop: \"3px\",\n                          marginLeft: \"10px\",\n                          backgroundColor: \"white\",\n                          border: \"none\",\n                        }}\n                        onClick={() => changeRichText(val)}\n                      >\n                        {i.richTextEditor === false ? \"Enable\" : \"Disable\"} Rich\n                        Text Editor\n                      </button>\n                      <div>\n                        {isSubmit ? (\n                          <span style={{ color: \"red\" }}>\n                            {formErrorsOpt[val].option}\n                          </span>\n                        ) : (\n                          Object.keys(validateOpt).map((obj, i) => {\n                            return i === val ? (\n                              <span style={{ color: \"red\" }}>\n                                {validateOpt[obj].option}\n                              </span>\n                            ) : null;\n                          })\n                        )}\n                      </div>\n                    </div>\n                  ) : (\n                    <div key={val}>\n                      <div className=\"options-row\">\n                        <div className=\"options-col left\">\n                          <input\n                            type={\"radio\"}\n                            name={\"isCorrect\"}\n                            id={`radio-1`}\n                            name=\"isCorrect\"\n                            checked={i.isCorrect}\n                            onChange={(e) => radioBoxOption(val, e.target)}\n                          />{\" \"}\n                          Option {val + 1}\n                        </div>\n                        {/* <textarea rows={4} id={`textarea-1`} className='options-col right' value={i.option} style={{ border: 'none', paddingLeft: '10px' }} name={`option`} onChange={(e) => changeOptions(val, e.target.value)}/> */}\n                        {i.richTextEditor == false ? (\n                          <textarea\n                            rows={4}\n                            id={`textarea-1`}\n                            className=\"options-col right\"\n                            value={i.option}\n                            style={{ border: \"none\", paddingLeft: \"10px\" }}\n                            name={`option`}\n                            onChange={(e) => changeOptions(val, e.target.value)}\n                          />\n                        ) : (\n                          <ReactQuill\n                            onChange={(e) => onChangeHandlerEditorOp(e, val)}\n                            value={i.option}\n                          />\n                        )}\n                      </div>\n                      <button\n                        type=\"button\"\n                        className=\"option-btm-btn\"\n                        style={{\n                          marginTop: \"3px\",\n                          marginRight: \"10px\",\n                          backgroundColor: \"white\",\n                          border: \"none\",\n                        }}\n                        onClick={() => removeOption(val)}\n                      >\n                        {\" \"}\n                        Remove Option\n                      </button>\n                      |\n                      <button\n                        type=\"button\"\n                        className=\"option-btm-btn\"\n                        style={{\n                          marginTop: \"3px\",\n                          marginLeft: \"10px\",\n                          backgroundColor: \"white\",\n                          border: \"none\",\n                        }}\n                        onClick={() => changeRichText(val)}\n                      >\n                        {\" \"}\n                        {i.richTextEditor === false ? \"Enable\" : \"Disable\"} Rich\n                        Text Editor\n                      </button>\n                      <div>\n                        {isSubmit ? (\n                          <span style={{ color: \"red\" }}>\n                            {formErrorsOpt[val].option}\n                          </span>\n                        ) : (\n                          Object.keys(validateOpt).map((obj, i) => {\n                            return i === val ? (\n                              <span style={{ color: \"red\" }}>\n                                {validateOpt[obj].option}\n                              </span>\n                            ) : null;\n                          })\n                        )}\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n              <button type=\"button\" onClick={newOption}>\n                +Add Option\n              </button>\n            </div>\n            <div className=\"add-footer\">\n              <button\n                className=\"btn btn-primary\"\n                style={{ padding: \"10px 15px 10px 15px\", fontSize: \"20px\" }}\n                type=\"submit\"\n              >\n                Update question\n              </button>\n              <Link to=\"/questions\">\n                <button\n                  type=\"button\"\n                  className=\"btn btn-light\"\n                  style={{\n                    marginLeft: \"30px\",\n                    fontSize: \"20px\",\n                    border: \"none\",\n                    outline: \"none\",\n                    padding: \"6px 10px 6px 10px\",\n                  }}\n                >\n                  Cancel\n                </button>\n              </Link>\n            </div>\n          </form>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default EditQuestion;\n"]},"metadata":{},"sourceType":"module"}